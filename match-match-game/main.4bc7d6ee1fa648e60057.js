(()=>{"use strict";var e={76:(e,t,n)=>{n.r(t)},80:(e,t,n)=>{n.r(t)},336:(e,t,n)=>{n.r(t)},510:(e,t,n)=>{n.r(t)},528:(e,t,n)=>{n.r(t)},231:(e,t,n)=>{n.r(t)},11:(e,t,n)=>{n.r(t)},29:(e,t,n)=>{n.r(t)},387:(e,t,n)=>{n.r(t)},583:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BaseComponent=void 0,t.BaseComponent=class{constructor(e="div",t=[]){this.element=document.createElement(e),this.element.classList.add(...t)}}},343:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Card=void 0;const i=n(583);n(76);class s extends i.BaseComponent{constructor(e){super("div",["card-container"]),this.image=e,this.isFlipped=!1,this.element.innerHTML=`\n  <div class="card">\n    <div class="card__front" style="background-image: url('/images/${e}');"></div>\n    <div class="card__back"></div>\n  </div>\n    `}flipToBack(){return this.isFlipped=!0,this.flip(!0)}flipToFront(){return this.isFlipped=!1,this.flip()}flip(e=!1){return new Promise((t=>{this.element.classList.toggle("flipped",e),this.element.addEventListener("transitionend",(()=>t()),{once:!0})}))}}t.Card=s},610:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CardsField=void 0;const i=n(583);n(80);class s extends i.BaseComponent{constructor(){super("div",["cards-field"]),this.cards=[]}clear(){this.cards=[],this.element.innerHTML=""}addCards(e){this.cards=e,this.cards.forEach((e=>this.element.appendChild(e.element))),setTimeout((()=>{this.cards.forEach((e=>e.flipToBack()))}),1e4)}}t.CardsField=s},229:function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(s,a){function r(e){try{d(i.next(e))}catch(e){a(e)}}function o(e){try{d(i.throw(e))}catch(e){a(e)}}function d(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,o)}d((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Game=void 0;const s=n(680),a=n(583),r=n(343),o=n(610);n(336);const d=n(609);class l extends a.BaseComponent{constructor(){super(),this.isAnimation=!1,this.count=!1,this.stopwatch=new d.Stopwatch,this.element.appendChild(this.stopwatch.element),this.cardsField=new o.CardsField,this.element.appendChild(this.cardsField.element)}newGame(e){this.stopwatch.deadline(10),this.cardsField.clear();const t=e.concat(e).map((e=>new r.Card(e))).sort((()=>Math.random()-.5));t.forEach((e=>e.element.addEventListener("click",(()=>this.cardHandler(e))))),this.cardsField.addCards(t)}cardHandler(e){return i(this,void 0,void 0,(function*(){if(e.isFlipped&&(this.count||(this.stopwatch.timer(),this.count=!0)),!this.isAnimation&&e.isFlipped){if(this.isAnimation=!0,yield e.flipToFront(),!this.activeCard)return this.activeCard=e,void(this.isAnimation=!1);if(document.querySelectorAll(".card-container").length,0===document.querySelectorAll(".flipped").length&&alert("You Win!"),this.activeCard.image!==e.image){let t=e.element.children[0].children[0].classList.add("red"),n=this.activeCard.element.children[0].children[0].classList.add("red");yield s.delay(1500),t=e.element.children[0].children[0].classList.remove("red"),n=this.activeCard.element.children[0].children[0].classList.remove("red"),yield Promise.all([yield this.activeCard.flipToBack(),e.flipToBack()])}else e.element.children[0].children[0].classList.add("green"),this.activeCard.element.children[0].children[0].classList.add("green");this.activeCard=void 0,this.isAnimation=!1}}))}}t.Game=l},870:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Button=void 0;const i=n(583);n(510);const s=n(625);class a extends i.BaseComponent{constructor(){super("button",["button"]),this.element.innerHTML="Start Game",this.element.onclick=()=>{s.Application.renderNewPage("game-page")}}}t.Button=a},977:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Header=void 0;const i=n(583);n(528);const s=n(870),a=n(378),r=[{id:"about-page",text:"About Page",named:"about"},{id:"settings-page",text:"Settings Page",named:"settings"},{id:"statistics-page",text:"Statistics Page",named:"statistics"}];class o extends i.BaseComponent{constructor(){super("div",["header"]),this.logo=new a.Logo,this.element.appendChild(this.logo.element),this.button=new s.Button}renderPageButtons(){const e=document.createElement("div");e.className="pages",r.forEach((t=>{const n=document.createElement("a");n.className=`${t.named}`,n.href=`#${t.id}`,n.innerText=t.text,e.append(n)})),this.element.append(e)}render(){return this.renderPageButtons(),this.element.appendChild(this.button.element),this.element}}t.Header=o},378:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Logo=void 0;const i=n(583);n(231);class s extends i.BaseComponent{constructor(){super("div",["logo"]),this.element.innerHTML='\n<div style="display: flex; justify-content: space-between">\n<div>\n    <div style="padding-left: 100px; padding-top: 5px; color: white;">Match</div>\n    <div style="background-color: #fff; width: 80px; height: 20px; color: rgba(33, 150, 243, 1);\n    padding-left: 20px; margin-left: 80px;">Match</div>\n</div>\n</div>\n    '}}t.Logo=s},983:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Howtoplay=void 0;const i=n(583);class s extends i.BaseComponent{constructor(){super("div",["howtoplay"]),this.element.innerHTML='\n<h1 style="margin: 30px 0 0 150px;">How To Play?</h1>\n<div style=\'display: flex;\'>\n<div style=\'width: 520px;\'>\n<div style=" margin: 20px 0 0 150px; width: 360px; height: 150px;\nbackground-color: rgba(0, 0, 0, 0.05);; border-radius: 10px;">\n<div style="margin: 10px 0 0 20px;">\n<div style="float: left;\nmargin-top: 10px;\n    display: flex;\n    color: white;\n    justify-content: center;\n    align-items: center;\n    width: 40px;\n    height: 40px;\n    border-radius: 50%;\n    background-color: #2196f3;\n    font-size: 24px;\n    line-height: 21px;\n    margin-right: 10px;">1</div>\n    <p style="font-size: 18px; padding-top: 19px">Register new player in game</p>\n</div>\n</div>\n\n<div style=" margin: 20px 0 0 150px; width: 360px; height: 150px; background-color: rgba(0, 0, 0, 0.05);\nborder-radius: 10px;">\n<div style="margin: 10px 0 0 20px;">\n<div style="float: left;\nmargin-top: 10px;\n    display: flex;\n    color: white;\n    justify-content: center;\n    align-items: center;\n    width: 40px;\n    height: 40px;\n    border-radius: 50%;\n    background-color: #2196f3;\n    font-size: 24px;\n    line-height: 21px;\n    margin-right: 10px;">2</div>\n    <p style=" font-size: 18px; padding-top: 19px">Configure your game settings</p>\n</div>\n</div>\n\n<div style="margin: 20px 0 0 150px; width: 360px; height: 150px;\nbackground-color: rgba(0, 0, 0, 0.05); border-radius: 10px;">\n<div style="margin: 10px 0 0 20px;">\n<div style="float: left;\nmargin-top: 10px;\n    display: flex;\n    color: white;\n    justify-content: center;\n    align-items: center;\n    width: 40px;\n    height: 40px;\n    border-radius: 50%;\n    background-color: #2196f3;\n    font-size: 24px;\n    line-height: 21px;\n    margin-right: 10px;">3</div>\n    <p style="padding-left: 50px; padding-top: 19px; width: 250px; font-size: 17px;">\n    Start you new game! Remember card positions and match it before times up.</p>\n</div>\n</div>\n</div>\n<div style=" padding-top: 50px; padding-left: 50px; margin: 20px 0 0 200px; width: 460px;\nheight: 350px; background-color: rgba(0, 0, 0, 0.05); border-radius: 10px;">\n<h1>Registr new Player</h1>\n<form action style="margin-top: 30px;">\n<input class="name" style="width: 360px;\n    font-size: 16px;\n    line-height: 24px;\n    color: rgba(0,0,0,.87);\n    padding: 5px;" type="text" placeholder="First Name" maxlength=\'30\' required>\n    <div class="name-input" style="margin-top: 15px; width: 200px;\n    height: 30px; background-color: silver; font-size: 12px;">- Имя не может быть пустым.\n- Имя не может состоять из цифр.</div>\n<input class=\'input-last-name\' style="width: 360px;\n    font-size: 16px;\n    line-height: 24px;\n    margin-top: 20px;\n    color: rgba(0,0,0,.87);\n    padding: 5px;" type="text" placeholder="Last Name" name="text" required maxlength=\'30\'>\n        <div class="last-name-input" style="margin-top: 15px; width: 200px;\n    height: 43px; background-color: silver; font-size: 12px;">- Фамилия не может быть пустой.\n- Фамилия не может состоять из цифр.</div>\n<input style="width: 360px;\n    font-size: 16px;\n    line-height: 24px;\n    margin-top: 20px;\n    color: rgba(0,0,0,.87);\n    padding: 5px;" type="email" placeholder="Enter Email" name="email" required maxlength=\'30\'>\n    <button class="send" style="margin-top: 30px; width: 160px; height: 25px;">Autorized</button>\n    <button style="margin-top: 30px; margin-left: 49px; width: 160px; height: 25px;">Chancel</button>\n</form>\n</div>\n</div>\n    '}}t.Howtoplay=s},609:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Stopwatch=void 0;const i=n(583);n(11);class s extends i.BaseComponent{constructor(){super("div",["seconds"]),this.counter=0,this.action=!1,this.action=!1,this.element.innerHTML='<span style="color: black;">10</span>'}timer(e){this.counter++,this.element.innerHTML=`<span style="color: black; padding: 120px; line-height: 64px;">${this.counter}</span>`,e?clearTimeout():setTimeout((()=>this.timer()),1e3)}deadline(e){const t=setInterval((()=>{e--,this.element.innerHTML=`<span style="color: black; padding: 120px; line-height: 64px;">${e}</span>`,e<=0&&clearInterval(t)}),1e3)}}t.Stopwatch=s},976:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});class n{constructor(e){this.container=document.createElement("div"),this.container.id=e}createHeaderTitle(e){const t=document.createElement("h1");return t.innerText=e,t}createDivTitle(e){const t=document.createElement("div");return t.innerText=e,t}render(){return this.container}}n.TextObject={},t.default=n},874:function(e,t,n){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.About=void 0;const s=i(n(976)),a=n(983);n(29);class r extends s.default{constructor(e){super(e),this.howtoplay=new a.Howtoplay,this.container.appendChild(this.howtoplay.element)}render(){return this.container}}t.About=r},625:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Application=void 0;const i=n(874),s=n(749),a=n(242),r=n(977),o=n(477);class d{constructor(){this.initialPage=new i.About("About"),this.header=new r.Header}static renderNewPage(e){const t=document.querySelector(`#${d.defaultPageID}`);t&&t.remove();let n=null;if("about-page"===e?n=new i.About(e):"settings-page"===e?n=new s.SettingsPage(e):"statistics-page"===e?n=new a.StatisticsPage(e):"game-page"===e&&(n=new o.AppGamePage(e)),n){const e=n.render();e.id=d.defaultPageID,d.container.append(e)}}enableRouteChange(){window.addEventListener("hashchange",(()=>{const e=window.location.hash.slice(1);d.renderNewPage(e)}))}run(){this.enableRouteChange(),d.container.append(this.header.render()),d.renderNewPage("about-page")}}t.Application=d,d.container=document.body,d.defaultPageID="current-page"},477:function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(s,a){function r(e){try{d(i.next(e))}catch(e){a(e)}}function o(e){try{d(i.throw(e))}catch(e){a(e)}}function d(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,o)}d((i=i.apply(e,t||[])).next())}))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.AppGamePage=void 0;const a=s(n(976)),r=n(229);class o extends a.default{constructor(e){super(e),this.game=new r.Game,this.container.appendChild(this.game.element)}start(){return i(this,void 0,void 0,(function*(){const e=yield fetch("./images.json"),t=(yield e.json())[0],n=t.images.map((e=>`${t.category}/${e}`));this.game.newGame(n)}))}render(){return this.start(),this.container}}t.AppGamePage=o},749:function(e,t,n){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsPage=void 0;const s=i(n(976));class a extends s.default{constructor(e){super(e),this.id=e}render(){const e=this.createHeaderTitle(a.TextObject.MainTitle);return this.container.append(e),this.container}}t.SettingsPage=a,a.TextObject={MainTitle:"settings-page"}},242:function(e,t,n){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.StatisticsPage=void 0;const s=i(n(976));class a extends s.default{constructor(e){super(e)}render(){const e=this.createHeaderTitle(a.TextObject.MainTitle);return this.container.append(e),this.container}}t.StatisticsPage=a,a.TextObject={MainTitle:"statistics-page"}},680:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.delay=void 0,t.delay=function(e){return new Promise((t=>{setTimeout(t,e)}))}}},t={};function n(i){var s=t[i];if(void 0!==s)return s.exports;var a=t[i]={exports:{}};return e[i].call(a.exports,a,a.exports,n),a.exports}n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{n(387),(new(n(625).Application)).run();const e=document.querySelector("input"),t=document.querySelector(".input-last-name"),i=document.querySelector(".send"),s=document.querySelector(".name-input"),a=document.querySelector(".last-name-input");null!==s&&s.classList.add("d"),null!==a&&a.classList.add("d"),null!==e&&e.addEventListener("input",(t=>function(t){t.target.value.length<3?null!==s&&null!==e&&null!==i&&(s.classList.remove("d"),e.classList.add("red"),i.disabled=!0):t.target.value.length>3&&null!==s&&null!==e&&null!==i&&(s.classList.add("d"),e.classList.remove("red"),i.disabled=!1),t.target.value.length>29&&null!==s&&null!==e&&(s.classList.remove("d"),e.classList.add("red"));const n=t.target.value;/^(([a-z_\s]+)|([а-яё_\s]+))$/.test(n)?null!==e&&null!==i&&(e.classList.remove("red"),i.disabled=!1):null!==e&&null!==i&&(e.classList.add("red"),i.disabled=!0)}(t))),null!==t&&t.addEventListener("input",(e=>function(e){e.target.value.length<3?null!==a&&null!==t&&null!==i&&(a.classList.remove("d"),t.classList.add("red"),i.disabled=!0):e.target.value.length>3&&null!==a&&null!==t&&null!==i&&(a.classList.add("d"),t.classList.remove("red"),i.disabled=!1),e.target.value.length>29&&null!==a&&null!==t&&(a.classList.remove("d"),t.classList.add("red"));const n=e.target.value;/^(([a-z_\s]+)|([а-яё_\s]+))$/.test(n)?null!==t&&null!==i&&(t.classList.remove("red"),i.disabled=!1):null!==t&&null!==i&&(t.classList.add("red"),i.disabled=!0)}(e)))})()})();